{"version":3,"sources":["webpack://frontend/./src/components/CarDeleteDialog.js","webpack://frontend/./src/components/Cars.js","webpack://frontend/./src/components/OwnerDetail.js"],"names":["CarDeleteDialog","nameOfItem","itemInfo","item","manufacturer","model","join","DeleteDialog","Cars","url","tooltipPlace","prevProps","prevState","owner","this","props","getItems","state","loading","Loader","showDeleteDialog","params","itemDelete","Alerts","messages","Table","striped","bordered","hover","OverlayTrigger","key","placement","overlay","Tooltip","id","onClick","btnSortClick","Row","sortedBy","name","className","arrow","items","map","o","index","production","color","power","mileage","style","width","Button","value","variant","btnEditClick","btnDelClick","ListOfItems","OwnerDetail","cars","patronymic","last_name","gender","age","comment","digitsOnly","e","charCode","preventDefault","getErrors","data","Object","keys","type","message","getOwner","axios","then","res","setState","catch","err","response","saveOwner","changeOwner","target","btnNewCarClick","btn_add","window","location","pathname","owner_pk","redirect","href","onChange","checked","maxLength","onKeyPress","as","rows","xs","disabled","withButtons","withOwnerInfo","withSearch","Component"],"mappings":"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","file":"275.js","sourcesContent":["// import React, { Component } from 'react';\n// import { Modal, Button } from 'react-bootstrap';\nimport DeleteDialog from \"./DeleteDialog\";\n\nexport class CarDeleteDialog extends DeleteDialog {\n  nameOfItem = \"автомобиль\";\n\n  itemInfo = (item) => {\n    return [item.manufacturer, item.model].join(\" \");\n  };\n}\n","import React from \"react\";\nimport { Table, Button, Row, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport Loader from \"./Loader\";\nimport ListOfItems from \"./ListOfItems\";\nimport { CarDeleteDialog } from \"./CarDeleteDialog\";\nimport Alerts from \"./Alerts\";\n\nexport default class Cars extends ListOfItems {\n  url = \"/testforjob/api/cars/\";\n  tooltipPlace = \"bottom\";\n  nameOfItem = \"Автомобиль\";\n\n  componentDidUpdate(prevProps, prevState) {\n    super.componentDidUpdate(prevProps, prevState);\n    if (prevProps.owner !== this.props.owner) this.getItems();\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.loading && <Loader />}\n        {this.state.showDeleteDialog && (\n          <CarDeleteDialog params={this.state} itemDelete={this.itemDelete} />\n        )}\n        <Alerts messages={this.state.messages} />\n        <Table striped bordered hover>\n          <thead>\n            <tr>\n              <OverlayTrigger\n                key={1}\n                placement={this.tooltipPlace}\n                overlay={\n                  <Tooltip id={`tooltip-1`}>Нажмите для сортировки</Tooltip>\n                }\n              >\n                <th id=\"manufacturer\" onClick={this.btnSortClick}>\n                  <Row id=\"manufacturer\">\n                    {this.state.sortedBy.name === \"manufacturer\" && (\n                      <div id=\"manufacturer\" className=\"ml-2\">\n                        {this.arrow}\n                      </div>\n                    )}{\" \"}\n                    <div id=\"manufacturer\" className=\"ml-2\">\n                      Производитель\n                    </div>\n                  </Row>\n                </th>\n              </OverlayTrigger>\n              <OverlayTrigger\n                key={2}\n                placement={this.tooltipPlace}\n                overlay={\n                  <Tooltip id={`tooltip-2`}>Нажмите для сортировки</Tooltip>\n                }\n              >\n                <th id=\"model\" onClick={this.btnSortClick}>\n                  <Row id=\"model\">\n                    {this.state.sortedBy.name === \"model\" && (\n                      <div id=\"model\" className=\"ml-2\">\n                        {this.arrow}\n                      </div>\n                    )}{\" \"}\n                    <div id=\"model\" className=\"ml-2\">\n                      Модель\n                    </div>\n                  </Row>\n                </th>\n              </OverlayTrigger>\n              <OverlayTrigger\n                key={3}\n                placement={this.tooltipPlace}\n                overlay={\n                  <Tooltip id={`tooltip-3`}>Нажмите для сортировки</Tooltip>\n                }\n              >\n                <th id=\"production\" onClick={this.btnSortClick}>\n                  <Row id=\"production\">\n                    {this.state.sortedBy.name === \"production\" && (\n                      <div id=\"production\" className=\"ml-2\">\n                        {this.arrow}\n                      </div>\n                    )}{\" \"}\n                    <div id=\"production\" className=\"ml-2\">\n                      Дата выпуска\n                    </div>\n                  </Row>\n                </th>\n              </OverlayTrigger>\n              <OverlayTrigger\n                key={4}\n                placement={this.tooltipPlace}\n                overlay={\n                  <Tooltip id={`tooltip-4`}>Нажмите для сортировки</Tooltip>\n                }\n              >\n                <th id=\"color\" onClick={this.btnSortClick}>\n                  <Row id=\"color\">\n                    {this.state.sortedBy.name === \"color\" && (\n                      <div id=\"color\" className=\"ml-2\">\n                        {this.arrow}\n                      </div>\n                    )}\n                    <div id=\"color\" className=\"ml-2\">\n                      Цвет\n                    </div>\n                  </Row>\n                </th>\n              </OverlayTrigger>\n              <OverlayTrigger\n                key={5}\n                placement={this.tooltipPlace}\n                overlay={\n                  <Tooltip id={`tooltip-5`}>Нажмите для сортировки</Tooltip>\n                }\n              >\n                <th id=\"power\" onClick={this.btnSortClick}>\n                  <Row id=\"power\">\n                    {this.state.sortedBy.name === \"power\" && (\n                      <div id=\"power\" className=\"ml-2\">\n                        {this.arrow}\n                      </div>\n                    )}{\" \"}\n                    <div id=\"power\" className=\"ml-2\">\n                      Мощность\n                    </div>\n                  </Row>\n                </th>\n              </OverlayTrigger>\n              <OverlayTrigger\n                key={6}\n                placement={this.tooltipPlace}\n                overlay={\n                  <Tooltip id={`tooltip-6`}>Нажмите для сортировки</Tooltip>\n                }\n              >\n                <th id=\"mileage\" onClick={this.btnSortClick}>\n                  <Row id=\"mileage\">\n                    {this.state.sortedBy.name === \"mileage\" && (\n                      <div id=\"mileage\" className=\"ml-2\">\n                        {this.arrow}\n                      </div>\n                    )}{\" \"}\n                    <div id=\"mileage\" className=\"ml-2\">\n                      Пробег\n                    </div>\n                  </Row>\n                </th>\n              </OverlayTrigger>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.items.map((o, index) => {\n              return (\n                <tr key={index}>\n                  <td>{o.manufacturer}</td>\n                  <td>{o.model}</td>\n                  <td>{o.production}</td>\n                  <td>{o.color}</td>\n                  <td>{o.power}</td>\n                  <td>{o.mileage}</td>\n                  <td style={{ width: 100 + \"px\" }}>\n                    <Row>\n                      <OverlayTrigger\n                        key={7}\n                        placement={this.tooltipPlace}\n                        overlay={\n                          <Tooltip id={`tooltip-7`}>Редактировать</Tooltip>\n                        }\n                      >\n                        <Button\n                          value={o.id}\n                          variant=\"primary\"\n                          className=\"ml-2\"\n                          onClick={this.btnEditClick}\n                        >\n                          {\"\\u27f6\"}\n                        </Button>\n                      </OverlayTrigger>\n                      <OverlayTrigger\n                        key={8}\n                        placement={this.tooltipPlace}\n                        overlay={<Tooltip id={`tooltip-8`}>Удалить</Tooltip>}\n                      >\n                        <Button\n                          value={o.id}\n                          variant=\"danger\"\n                          className=\"ml-2\"\n                          onClick={this.btnDelClick}\n                        >\n                          x\n                        </Button>\n                      </OverlayTrigger>\n                    </Row>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </Table>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport {\n  Card,\n  Row,\n  Form,\n  Button,\n  Col,\n  Tooltip,\n  OverlayTrigger,\n} from \"react-bootstrap\";\nimport Cars from \"./Cars\";\nimport Alerts from \"./Alerts\";\n\nexport default class OwnerDetail extends Component {\n  state = {\n    messages: [],\n    owner: {\n      id: -10, // indicate new owner, -1 is not acceptable\n      cars: [],\n      name: \"\",\n      patronymic: \"\",\n      last_name: \"\",\n      gender: \"\",\n      age: \"\",\n      comment: \"\",\n    },\n  };\n\n  url = \"/testforjob/api/owner/\";\n  tooltipPlace = \"bottom\";\n\n  componentDidMount() {\n    this.getOwner();\n  }\n\n  digitsOnly = (e) => {\n    let charCode = e.charCode;\n    //console.log(charCode);\n    if (charCode < 48 || charCode > 57) {\n      // digits only\n      e.preventDefault();\n    }\n  };\n\n  getErrors = (data) => {\n    return Object.keys(data).map((key) => {\n      return { type: \"error\", message: data[key] };\n    });\n  };\n\n  getOwner = () => {\n    axios\n      .post(this.url, {})\n      .then((res) => {\n        //console.log('getOwner', res.data);\n\n        const owner = {\n          ...res.data,\n          id: res.data[\"id\"] ? res.data[\"id\"] : -10,\n        };\n        //console.log(\"getOwner\", owner);\n        this.setState({ owner: owner });\n      })\n      .catch((err) => {\n        //console.log(\"getOwnerDetail getOwner\", err.response.data);\n        this.setState({\n          messages: this.getErrors(err.response.data),\n        });\n      });\n  };\n\n  saveOwner = () => {\n    axios\n      .post(this.url, { owner: this.state.owner })\n      .then((res) => {\n        //console.log('saveOwner', res.data);\n\n        this.setState({\n          owner: res.data,\n          messages: [\n            { type: \"success\", message: \"Информация о владельце сохранена\" },\n          ],\n        });\n      })\n      .catch((err) => {\n        //console.log(\"getOwnerDetail saveOwner\", err.response.data);\n        this.setState({\n          messages: this.getErrors(err.response.data),\n        });\n      });\n  };\n\n  changeOwner = (e) => {\n    let owner;\n    switch (e.target.name) {\n      case \"gender-f\":\n        owner = {\n          ...this.state.owner,\n          gender: \"f\",\n        };\n        break;\n      case \"gender-m\":\n        owner = {\n          ...this.state.owner,\n          gender: \"m\",\n        };\n        break;\n      default:\n        owner = {\n          ...this.state.owner,\n          [e.target.name]: e.target.value,\n        };\n    }\n    //console.log('changeOwner', owner);\n\n    this.setState({ owner });\n  };\n\n  btnNewCarClick = () => {\n    axios\n      .post(this.url, {\n        btn_add: \"\",\n        url: window.location.pathname,\n        owner_pk: this.state.owner.id,\n      })\n      .then((res) => {\n        if (res.data.redirect) {\n          window.location.href = res.data[\"redirect\"];\n        }\n      })\n      .catch((err) => {\n        //console.log(\"btnAddClick\", err.response.data);\n        this.setState({\n          messages: this.getErrors(err.response.data),\n        });\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <Alerts messages={this.state.messages} />\n        <Card>\n          <Card.Title>Автовладелец</Card.Title>\n          <Card.Body>\n            <Row>\n              <div className=\"col-5\">\n                <Row>\n                  <Form.Label className=\"col-4\">Имя</Form.Label>\n                  <input\n                    className=\"form-control col-6\"\n                    name=\"name\"\n                    type=\"text\"\n                    value={this.state.owner.name ? this.state.owner.name : \"\"}\n                    onChange={this.changeOwner}\n                  />\n                  <Form.Label className=\"col-4\">Отчество</Form.Label>\n                  <input\n                    className=\"form-control col-6\"\n                    name=\"patronymic\"\n                    type=\"text\"\n                    value={\n                      this.state.owner.patronymic\n                        ? this.state.owner.patronymic\n                        : \"\"\n                    }\n                    onChange={this.changeOwner}\n                  />\n                  <Form.Label className=\"col-4\">Фамилия</Form.Label>\n                  <input\n                    className=\"form-control col-6\"\n                    name=\"last_name\"\n                    type=\"text\"\n                    value={\n                      this.state.owner.last_name\n                        ? this.state.owner.last_name\n                        : \"\"\n                    }\n                    onChange={this.changeOwner}\n                  />\n                  <Form.Label className=\"col-4\" name=\"gender\">\n                    Пол\n                  </Form.Label>\n                  <Row className=\"col-6\">\n                    <Form.Label className=\"col-1\" name=\"gender-m\">\n                      <small>М</small>\n                    </Form.Label>\n                    <input\n                      className=\"form-control col-1 border-0\"\n                      name=\"gender-m\"\n                      type=\"radio\"\n                      checked={this.state.owner.gender === \"m\" ? 1 : 0}\n                      onChange={this.changeOwner}\n                    />\n                    <Form.Label className=\"col-1\" name=\"gender-f\">\n                      <small>Ж</small>\n                    </Form.Label>\n                    <input\n                      className=\"form-control col-1 border-0\"\n                      name=\"gender-f\"\n                      type=\"radio\"\n                      checked={this.state.owner.gender === \"f\" ? 1 : 0}\n                      onChange={this.changeOwner}\n                    />\n                  </Row>\n                  <Form.Label className=\"col-4\" name=\"age\">\n                    Возраст\n                  </Form.Label>\n                  <input\n                    className=\"form-control col-6\"\n                    name=\"age\"\n                    type=\"text\"\n                    maxLength=\"3\"\n                    value={this.state.owner.age ? this.state.owner.age : \"\"}\n                    onChange={this.changeOwner}\n                    onKeyPress={this.digitsOnly}\n                  />\n                </Row>\n              </div>\n              <div className=\"col-7\">\n                <Form.Label className=\"col-4\">Комментарий</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  rows=\"6\"\n                  value={this.state.owner.comment}\n                  name=\"comment\"\n                  onChange={this.changeOwner}\n                />\n              </div>\n            </Row>\n            <hr />\n            <div className=\"row spacer\">\n              <div className=\"col-12\">\n                <OverlayTrigger\n                  key={1}\n                  placement={this.tooltipPlace}\n                  overlay={\n                    <Tooltip id={`tooltip-1`}>\n                      Сохранить информацию об автовладельце\n                    </Tooltip>\n                  }\n                >\n                  <Button\n                    variant=\"primary\"\n                    className=\"col\"\n                    onClick={this.saveOwner}\n                  >\n                    Сохранить\n                  </Button>\n                </OverlayTrigger>\n              </div>\n            </div>\n          </Card.Body>\n        </Card>\n        <Card>\n          <Card.Title>Автомобили</Card.Title>\n          <Card.Header>\n            <Row className=\"spacer\">\n              <Col xs={12}>\n                <OverlayTrigger\n                  key={2}\n                  placement={this.tooltipPlace}\n                  overlay={\n                    <Tooltip id={`tooltip-2`}>Добавить автомобиль</Tooltip>\n                  }\n                >\n                  <Button\n                    variant=\"primary\"\n                    className=\"col\"\n                    name=\"add_car\"\n                    onClick={this.btnNewCarClick}\n                    disabled={this.state.owner.id < 0 ? \"disabled\" : \"\"}\n                  >\n                    Добавить автомобиль\n                  </Button>\n                </OverlayTrigger>\n              </Col>\n            </Row>\n          </Card.Header>\n          <div className=\"row spacer\">\n            <div className=\"col-12\">\n              <Cars\n                owner={this.state.owner.id}\n                withButtons=\"true\"\n                withOwnerInfo=\"false\"\n                withSearch=\"false\"\n              />\n            </div>\n          </div>\n        </Card>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}