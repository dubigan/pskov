/*! For license information please see 341.js.LICENSE.txt */
(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[341],{812:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=n(7294),r=n(2151),a=n(4051),c=n(5005),s=n(4479);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(b,e);var t,n,l,m,v=(l=b,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(l);if(m){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function b(){var e,t;i(this,b);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return p(t,(e=t=v.call.apply(v,[this].concat(o)),t.state={uploadFileName:"",websocket:{ws:null,status:"disconnected"},downloadFormat:"json"},t.downloadUrl="/testforjob/api/download/",t.uploadUrl="/testforjob/ws/upload/",t.getDownloadUrl=function(){return"/testforjob/api/download_".concat(t.state.downloadFormat,"/")},t.connectWebsocket=function(){var e="https:"===window.location.protocol?"wss":"ws",n="".concat(e,"://").concat(window.location.host).concat(t.uploadUrl),o=new WebSocket(n);o.onopen=function(){console.log("connected to ".concat(n)),t.setState({websocket:{status:"connected to ".concat(n)}})},o.onmessage=function(e){var t=JSON.parse(e.data);console.log(t)},o.onclose=function(){console.log("disconnected"),t.setState({websocket:{status:"disconnected"}})},o.onerror=function(e){console.log("websocket error",e),t.setSate({websocket:{status:"websocket error: ".concat(e)}})},t.setState({websocket:{ws:o}})},t.change=function(e){},t.selectFormat=function(e){t.setState({downloadFormat:e.target.value})},e))}return t=b,(n=[{key:"componentDidMount",value:function(){this.connectWebsocket()}},{key:"render",value:function(){return o.createElement("div",null,this.state.websocket.ws&&o.createElement("div",null,"Websocket status: ",this.state.websocket.status),o.createElement(r.Z.Label,{className:"col-5"},"Файл загрузки в BD"),o.createElement(a.Z,{md:"auto"},o.createElement("input",{className:"form-control col-6 ml-4",name:"uploadFileName",id:"uploadFileName",type:"text",value:this.state.uploadFileName,onChange:this.change}),o.createElement(c.Z,{variant:"primary",className:"",onClick:this.selectFile},"..."),o.createElement(c.Z,{variant:"primary",className:"col-1 ml-4",onClick:this.selectFile,disabled:""===this.state.uploadFileName?"disabled":""},"Старт")),o.createElement("hr",null),o.createElement(s.Z,null,o.createElement(s.Z.Header,null,o.createElement(r.Z.Label,{className:"col-5"},"Выгрузка BD")),o.createElement(a.Z,null,o.createElement(r.Z.Label,{className:"col-3 ml-4"},"Выберите формат сохраняемого файла"),o.createElement(r.Z.Control,{as:"select",className:"col-2",onChange:this.selectFormat},o.createElement("option",{value:"json"},"json"),o.createElement("option",{value:"csv"},"csv"),o.createElement("option",{value:"text"},"text/plain")),o.createElement("form",{action:this.getDownloadUrl(),method:"post"},o.createElement(c.Z,{variant:"primary",type:"submit",className:"col ml-4"},"Старт")))))}}])&&u(t.prototype,n),b}(o.Component)},4184:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var c=r.apply(null,n);c&&e.push(c)}else if("object"===a)for(var s in n)o.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},5005:function(e,t,n){"use strict";var o=n(2122),r=n(9756),a=n(4184),c=n.n(a),s=n(7294),l=n(6792),i=n(4873),u=s.forwardRef((function(e,t){var n=e.bsPrefix,a=e.variant,u=e.size,f=e.active,p=e.className,d=e.block,m=e.type,v=e.as,b=(0,r.Z)(e,["bsPrefix","variant","size","active","className","block","type","as"]),y=(0,l.vE)(n,"btn"),h=c()(p,y,f&&"active",a&&y+"-"+a,d&&y+"-block",u&&y+"-"+u);if(b.href)return s.createElement(i.Z,(0,o.Z)({},b,{as:v,ref:t,className:c()(h,b.disabled&&"disabled")}));t&&(b.ref=t),m?b.type=m:v||(b.type="button");var w=v||"button";return s.createElement(w,(0,o.Z)({},b,{className:h}))}));u.displayName="Button",u.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=u},4051:function(e,t,n){"use strict";var o=n(2122),r=n(9756),a=n(4184),c=n.n(a),s=n(7294),l=n(6792),i=["xl","lg","md","sm","xs"],u=s.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,u=e.noGutters,f=e.as,p=void 0===f?"div":f,d=(0,r.Z)(e,["bsPrefix","className","noGutters","as"]),m=(0,l.vE)(n,"row"),v=m+"-cols",b=[];return i.forEach((function(e){var t,n=d[e];delete d[e];var o="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"==typeof n?n.cols:n)&&b.push(""+v+o+"-"+t)})),s.createElement(p,(0,o.Z)({ref:t},d,{className:c().apply(void 0,[a,m,u&&"no-gutters"].concat(b))}))}));u.displayName="Row",u.defaultProps={noGutters:!1},t.Z=u},4873:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var o=n(2122),r=n(9756),a=n(7294),c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];e.apply(this,o),t.apply(this,o)}}),null)};function s(e){return!e||"#"===e.trim()}var l=a.forwardRef((function(e,t){var n=e.as,l=void 0===n?"a":n,i=e.disabled,u=e.onKeyDown,f=(0,r.Z)(e,["as","disabled","onKeyDown"]),p=function(e){var t=f.href,n=f.onClick;(i||s(t))&&e.preventDefault(),i?e.stopPropagation():n&&n(e)};return s(f.href)&&(f.role=f.role||"button",f.href=f.href||"#"),i&&(f.tabIndex=-1,f["aria-disabled"]=!0),a.createElement(l,(0,o.Z)({ref:t},f,{onClick:p,onKeyDown:c((function(e){" "===e.key&&(e.preventDefault(),p(e))}),u)}))}));l.displayName="SafeAnchor";var i=l},6792:function(e,t,n){"use strict";n.d(t,{vE:function(){return a}});var o=n(7294),r=o.createContext({});function a(e,t){var n=(0,o.useContext)(r);return e||n[t]||t}r.Consumer,r.Provider},4680:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var o=n(2122),r=n(9756),a=n(4184),c=n.n(a),s=/-(.)/g,l=n(7294),i=n(6792);function u(e,t){var n,a,u=void 0===t?{}:t,f=u.displayName,p=void 0===f?(n=e)[0].toUpperCase()+(a=n,a.replace(s,(function(e,t){return t.toUpperCase()}))).slice(1):f,d=u.Component,m=u.defaultProps,v=l.forwardRef((function(t,n){var a=t.className,s=t.bsPrefix,u=t.as,f=void 0===u?d||"div":u,p=(0,r.Z)(t,["className","bsPrefix","as"]),m=(0,i.vE)(s,e);return l.createElement(f,(0,o.Z)({ref:n,className:c()(a,m)},p))}));return v.defaultProps=m,v.displayName=p,v}},9602:function(e,t,n){"use strict";var o=n(2122),r=n(7294),a=n(4184),c=n.n(a);t.Z=function(e){return r.forwardRef((function(t,n){return r.createElement("div",(0,o.Z)({},t,{ref:n,className:c()(t.className,e)}))}))}},2473:function(e){"use strict";e.exports=function(){}}}]);
//# sourceMappingURL=341.js.map