(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[236],{236:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(7294),o=n(5147),a=n(8324),i=n(3489),l=n(4051),c=n(5005),s=n(1863),u=n(9940),f=n(3485);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,o,a,i=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(o);if(a){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function l(){var e,t;p(this,l);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(t,(e=t=i.call.apply(i,[this].concat(r)),t.handleClose=function(e){return e&&t.props.carDelete(e.target.value),t.props.carDelete(!1)},t.getCarInfo=function(){return t.props.params.carDelete?[t.props.params.carDelete.manufacturer,t.props.params.carDelete.model].join(" "):""},e))}return t=l,(n=[{key:"render",value:function(){return r.createElement(f.Z,{show:this.props.params.showDeleteDialog,onHide:this.handleClose},r.createElement(f.Z.Header,{closeButton:!0},r.createElement(f.Z.Title,null,"Удалить автомобиль")),r.createElement(f.Z.Body,null,this.getCarInfo()),r.createElement(f.Z.Footer,null,r.createElement(c.Z,{variant:"secondary",value:!1,onClick:this.handleClose},"Отмена"),r.createElement(c.Z,{variant:"danger",value:!0,onClick:this.handleClose},"Удалить")))}}])&&m(t.prototype,n),l}(r.Component);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(p,e);var t,n,u,f,d=(u=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(u);if(f){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function p(){var e,t;A(this,p);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return k(t,(e=t=d.call.apply(d,[this].concat(r)),t.url="/testforjob/api/cars/",t.tooltipPlace="bottom",e))}return t=p,(n=[{key:"componentDidUpdate",value:function(e,t){w(O(p.prototype),"componentDidUpdate",this).call(this,e,t),e.owner!==this.props.owner&&this.getItems()}},{key:"render",value:function(){var e=this;return r.createElement("div",null,this.state.loading&&r.createElement(s.Z,null),this.state.showDeleteDialog&&r.createElement(g,{params:this.state,itemDelete:this.itemDelete}),r.createElement(o.Z,{striped:!0,bordered:!0,hover:!0},r.createElement("thead",null,r.createElement("tr",null,r.createElement(a.Z,{key:1,placement:this.tooltipPlace,overlay:r.createElement(i.Z,{id:"tooltip-1"},"Нажмите для сортировки")},r.createElement("th",{id:"manufacturer",onClick:this.btnSortClick},r.createElement(l.Z,{id:"manufacturer"},"manufacturer"===this.state.sortedBy.name&&r.createElement("div",{id:"manufacturer",className:"ml-2"},this.arrow)," ",r.createElement("div",{id:"manufacturer",className:"ml-2"},"Производитель")))),r.createElement(a.Z,{key:2,placement:this.tooltipPlace,overlay:r.createElement(i.Z,{id:"tooltip-2"},"Нажмите для сортировки")},r.createElement("th",{id:"model",onClick:this.btnSortClick},r.createElement(l.Z,{id:"model"},"model"===this.state.sortedBy.name&&r.createElement("div",{id:"model",className:"ml-2"},this.arrow)," ",r.createElement("div",{id:"model",className:"ml-2"},"Модель")))),r.createElement(a.Z,{key:3,placement:this.tooltipPlace,overlay:r.createElement(i.Z,{id:"tooltip-3"},"Нажмите для сортировки")},r.createElement("th",{id:"production",onClick:this.btnSortClick},r.createElement(l.Z,{id:"production"},"production"===this.state.sortedBy.name&&r.createElement("div",{id:"production",className:"ml-2"},this.arrow)," ",r.createElement("div",{id:"production",className:"ml-2"},"Дата выпуска")))),r.createElement(a.Z,{key:4,placement:this.tooltipPlace,overlay:r.createElement(i.Z,{id:"tooltip-4"},"Нажмите для сортировки")},r.createElement("th",{id:"color",onClick:this.btnSortClick},r.createElement(l.Z,{id:"color"},"color"===this.state.sortedBy.name&&r.createElement("div",{id:"color",className:"ml-2"},this.arrow),r.createElement("div",{id:"color",className:"ml-2"},"Цвет")))),r.createElement(a.Z,{key:5,placement:this.tooltipPlace,overlay:r.createElement(i.Z,{id:"tooltip-5"},"Нажмите для сортировки")},r.createElement("th",{id:"power",onClick:this.btnSortClick},r.createElement(l.Z,{id:"power"},"power"===this.state.sortedBy.name&&r.createElement("div",{id:"power",className:"ml-2"},this.arrow)," ",r.createElement("div",{id:"power",className:"ml-2"},"Мощность")))),r.createElement(a.Z,{key:6,placement:this.tooltipPlace,overlay:r.createElement(i.Z,{id:"tooltip-6"},"Нажмите для сортировки")},r.createElement("th",{id:"mileage",onClick:this.btnSortClick},r.createElement(l.Z,{id:"mileage"},"mileage"===this.state.sortedBy.name&&r.createElement("div",{id:"mileage",className:"ml-2"},this.arrow)," ",r.createElement("div",{id:"mileage",className:"ml-2"},"Пробег")))),r.createElement("th",null))),r.createElement("tbody",null,this.state.items.map((function(t,n){return r.createElement("tr",{key:n},r.createElement("td",null,t.manufacturer),r.createElement("td",null,t.model),r.createElement("td",null,t.production),r.createElement("td",null,t.color),r.createElement("td",null,t.power),r.createElement("td",null,t.mileage),r.createElement("td",{style:{width:"100px"}},r.createElement(l.Z,null,r.createElement(a.Z,{key:7,placement:e.tooltipPlace,overlay:r.createElement(i.Z,{id:"tooltip-7"},"Редактировать")},r.createElement(c.Z,{value:t.id,variant:"primary",className:"ml-2",onClick:e.btnEditClick},"⟶")),r.createElement(a.Z,{key:8,placement:e.tooltipPlace,overlay:r.createElement(i.Z,{id:"tooltip-8"},"Удалить")},r.createElement(c.Z,{value:t.id,variant:"danger",className:"ml-2",onClick:e.btnDelClick},"x")))))})))))}}])&&E(t.prototype,n),p}(u.Z)},9940:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(7294),o=n(9669),a=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,o,i,l=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(o);if(i){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function s(){var e,t;u(this,s);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return p(t,(e=t=l.call.apply(l,[this].concat(r)),t.state={loading:!1,showDeleteDialog:!1,itemDelete:"",items:[],sortedBy:{name:"",direction:"asc"}},t.url="",t.upArrow="↑",t.downArrow="↓",t.getItems=function(){t.setState({loading:!0}),a().post(t.url,{sorted_by:t.state.sortedBy}).then((function(e){console.log("getItems",e.data),t.setState({items:e.data})})).catch((function(e){return console.log("getItems",e.response.data)})).finally((function(){return t.setState({loading:!1})}))},t.getItem=function(e){return t.state.items.filter((function(t){return+t.id==+e}))[0]},t.btnSortClick=function(e){var n=e.target.id;if(t.state.sortedBy.name!==n){var r={name:n,direction:"desc"};t.setState({sortedBy:r})}else{var o="desc"===t.state.sortedBy.direction?"asc":"desc",a=c(c({},t.state.sortedBy),{},{direction:o});t.setState({sortedBy:a})}},t.btnDelClick=function(e){var n=t.getItem(e.target.value);t.setState({showDeleteDialog:!0,itemDelete:n})},t.btnAddClick=function(e){a().post(t.url,{btn_add:""}).then((function(e){e.data.redirect&&(window.location.href=e.data.redirect)})).catch((function(e){return console.log("btnAddClick",e.response.data)}))},t.btnEditClick=function(e){a().post(t.url,{btn_edit:"",item_pk:e.target.value,url:window.location.pathname}).then((function(e){e.data.redirect&&(window.location.href=e.data.redirect)})).catch((function(e){return console.log("btnEditClick",e.response.data)}))},t.itemDelete=function(e){t.setState({showDeleteDialog:!1}),"true"===e&&(t.setState({loading:!0}),a().post(t.url,{sorted_by:t.state.sortedBy,btn_del:"",item_pk:t.state.itemDelete.id}).then((function(e){console.log("delBtnClick",e.data),t.setState({items:e.data})})).catch((function(e){return console.log("delBtnClick",e.response.data)})).finally((function(){return t.setState({loading:!1})})))},e))}return t=s,(n=[{key:"componentDidMount",value:function(){this.getItems()}},{key:"componentDidUpdate",value:function(e,t){t.sortedBy.name===this.state.sortedBy.name&&t.sortedBy.direction===this.state.sortedBy.direction||this.getItems()}},{key:"render",value:function(){return r.createElement("div",null)}},{key:"arrow",get:function(){return"asc"===this.state.sortedBy.direction?this.upArrow:this.downArrow}}])&&f(t.prototype,n),s}(r.Component)},1863:function(e,t,n){"use strict";var r=n(7294);n(834),t.Z=function(){return r.createElement("div",{className:"center-loader"},r.createElement("div",{className:"lds-dual-ring"}))}},8547:function(e,t,n){"use strict";n.r(t);var r=n(3645),o=n.n(r)()(!0);o.push([e.id,"/* body,\r\nhtml {\r\n    height: 100%;\r\n    display: flex;\r\n} */\r\n.center-loader {\r\n    display: flex;\r\n    margin: auto;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.lds-dual-ring {\r\n    display: inline-block;\r\n    width: 80px;\r\n    height: 80px;\r\n}\r\n.lds-dual-ring:after {\r\n    content: ' ';\r\n    display: block;\r\n    width: 64px;\r\n    height: 64px;\r\n    margin: 8px;\r\n    border-radius: 50%;\r\n    border: 6px solid blue;\r\n    border-color: blue transparent blue transparent;\r\n    animation: lds-dual-ring 1.2s linear infinite;\r\n}\r\n@keyframes lds-dual-ring {\r\n    0% {\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n        transform: rotate(360deg);\r\n    }\r\n}\r\n","",{version:3,sources:["webpack://src/components/Loader.css"],names:[],mappings:"AAAA;;;;GAIG;AACH;IACI,aAAa;IACb,YAAY;IACZ,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,qBAAqB;IACrB,WAAW;IACX,YAAY;AAChB;AACA;IACI,YAAY;IACZ,cAAc;IACd,WAAW;IACX,YAAY;IACZ,WAAW;IACX,kBAAkB;IAClB,sBAAsB;IACtB,+CAA+C;IAC/C,6CAA6C;AACjD;AACA;IACI;QACI,uBAAuB;IAC3B;IACA;QACI,yBAAyB;IAC7B;AACJ",sourcesContent:["/* body,\r\nhtml {\r\n    height: 100%;\r\n    display: flex;\r\n} */\r\n.center-loader {\r\n    display: flex;\r\n    margin: auto;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.lds-dual-ring {\r\n    display: inline-block;\r\n    width: 80px;\r\n    height: 80px;\r\n}\r\n.lds-dual-ring:after {\r\n    content: ' ';\r\n    display: block;\r\n    width: 64px;\r\n    height: 64px;\r\n    margin: 8px;\r\n    border-radius: 50%;\r\n    border: 6px solid blue;\r\n    border-color: blue transparent blue transparent;\r\n    animation: lds-dual-ring 1.2s linear infinite;\r\n}\r\n@keyframes lds-dual-ring {\r\n    0% {\r\n        transform: rotate(0deg);\r\n    }\r\n    100% {\r\n        transform: rotate(360deg);\r\n    }\r\n}\r\n"],sourceRoot:""}]),t.default=o},834:function(e,t,n){var r=n(3379),o=n(8547);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}}}]);
//# sourceMappingURL=236.js.map